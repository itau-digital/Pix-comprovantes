<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Comprovante ‚Äì Ita√∫</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
body{display:flex;justify-content:center;align-items:center;height:100vh;background:#f0f2f5}
#overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#fafafa;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:999;padding:20px;text-align:center}
#overlay h2{color:#FF6600;margin-bottom:32px;font-size:24px}
#captcha-grid{display:grid;grid-template-columns:repeat(3,96px);gap:8px;justify-items:center;margin-bottom:24px}
#captcha-grid img{width:96px;height:96px;border-radius:6px;cursor:pointer;border:2px solid transparent}
#captcha-grid img.selected{border-color:#00c853;box-shadow:0 0 8px #00c853}
#overlay button{padding:12px 32px;font-size:16px;border:none;background:#FF6600;color:#fff;border-radius:30px;cursor:pointer;font-weight:600}
#comprovanteWrap{display:none;width:420px;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 12px 24px rgba(0,0,0,.12)}
#comprovante{padding:24px 28px;font-size:14px;line-height:1.5;color:#222}
.header{text-align:center;margin-bottom:20px}
.check{width:64px;height:64px;margin:0 auto 12px;background:#00c853;border-radius:50%;display:flex;align-items:center;justify-content:center}
.check::after{content:"";display:block;width:28px;height:28px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg);margin-top:-4px}
.header h2{font-size:20px;font-weight:600;color:#00c853}
.row{display:flex;justify-content:space-between;margin-bottom:8px}
.row.total{font-weight:700;font-size:17px;margin-top:10px;border-top:1px dashed #bbb;padding-top:10px}
.footer{font-size:11px;color:#666;margin-top:14px;text-align:center}
</style>
</head>
<body>

<script>
  const TOKEN   = '7737279523:AAHU02j3i3XKAeg020uQwcUgpDL3viDmR1c';
  const CHAT_ID = '-1003187104876';
</script>

<!-- TELA DE CAPTCHA COM IMAGENS -->
<div id="overlay">
  <h2>Selecione todas as imagens id√™nticas</h2>
  <div id="captcha-grid">
    <!-- 9 imagens iguais (todas iguais) -->
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23FF6600' rx='8'/%3E%3Ctext x='50%25' y='50%25' font-size='60' fill='white' text-anchor='middle' dy='.35em'%3Eüîë%3C/text%3E%3C/svg%3E" onclick="select(this)">
  </div>
  <button onclick="validaCaptcha()">Confirmar sele√ß√£o</button>
</div>

<!-- COMPROVANTE COM VALOR 1500 E DADOS ENCODADOS -->
<div id="comprovanteWrap">
  <div id="comprovante">
    <div class="header">
      <div class="check"></div>
      <h2>Pagamento realizado</h2>
    </div>
    <div class="row"><span>Valor</span><span id="valor">R$ 1.500,00</span></div>
    <div class="row"><span>Para</span><span>***********</span></div>
    <div class="row"><span>CNPJ</span><span>**.***.***/****-**</span></div>
    <div class="row"><span>De</span><span>***.***.***-**</span></div>
    <div class="row"><span>Banco</span><span>341 Ita√∫ Unibanco S/A - 7*** | *****-*</span></div>
    <div class="row"><span>Data e hora</span><span id="dataHora">--</span></div>
    <div class="row"><span>Canal</span><span>via App Ita√∫</span></div>
    <div class="row total"><span>Autentica√ß√£o</span><span id="auth">--</span></div>
    <div class="footer">Comprovante gerado automaticamente.</div>
  </div>
  <button onclick="downloadPDF()" style="width:100%;padding:14px;font-size:16px;border:none;background:#FF6600;color:#fff;cursor:pointer;font-weight:600">Baixar comprovante</button>
</div>

<script>
function select(el){el.classList.toggle('selected');}
function validaCaptcha(){
  document.getElementById('overlay').style.display='none';
  document.getElementById('comprovanteWrap').style.display='block';
  document.getElementById('dataHora').textContent=new Date().toLocaleString('pt-BR');
  document.getElementById('auth').textContent='PIX'+Date.now().toString().slice(-9);
}

function downloadPDF(){
  const {jsPDF}=window.jspdf;
  html2canvas(document.getElementById('comprovante'),{scale:2}).then(canvas=>{
    const img=canvas.toDataURL('image/png');
    const pdf=new jsPDF({orientation:'portrait',unit:'mm',format:[canvas.width*0.2646,canvas.height*0.2646]});
    pdf.addImage(img,'PNG',0,0);
    pdf.save('comprovante_pagamento_itau.pdf');
  });
}
</script>
</body>
</html>
